{"last_node_id":103,"last_link_id":164,"nodes":[{"id":4,"type":"easy imageRemBg","pos":[-656.1737060546875,-151.3309783935547],"size":[315,410],"flags":{},"order":14,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":108,"localized_name":"images"}],"outputs":[{"name":"image","type":"IMAGE","links":[5,7,18,105],"slot_index":0,"localized_name":"image"},{"name":"mask","type":"MASK","links":null,"slot_index":1,"localized_name":"mask"}],"properties":{"Node name for S&R":"easy imageRemBg","cnr_id":"comfyui-easy-use","ver":"665861ff354dcc54c959cdb878ddc8c76773ae54"},"widgets_values":["RMBG-1.4","Preview","ComfyUI",false,"white"]},{"id":9,"type":"SolidMask","pos":[-332.8067932128906,21.254724502563477],"size":[315,106],"flags":{},"order":23,"mode":0,"inputs":[{"name":"width","type":"INT","link":8,"widget":{"name":"width"}},{"name":"height","type":"INT","link":9,"widget":{"name":"height"}}],"outputs":[{"name":"MASK","type":"MASK","links":[10,12,121],"slot_index":0,"localized_name":"MASK"}],"properties":{"Node name for S&R":"SolidMask","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":[0,512,512]},{"id":65,"type":"ImageResize+","pos":[-1042.076171875,-131.93942260742188],"size":[320,220],"flags":{},"order":12,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":107,"label":"image","localized_name":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[108],"slot_index":0,"label":"image","localized_name":"IMAGE"},{"name":"width","type":"INT","links":[],"label":"width","localized_name":"width"},{"name":"height","type":"INT","slot_index":2,"label":"height","localized_name":"height"}],"properties":{"Node name for S&R":"ImageResize+","cnr_id":"comfyui_essentials","ver":"9d9f4bedfc9f0321c19faf71855e228c93bd0dc9"},"widgets_values":[1400,1400,"lanczos","keep proportion","always",0]},{"id":69,"type":"LayerMask: SegmentAnythingUltra V2","pos":[-999.0035400390625,651.7254028320312],"size":[401.0435485839844,366],"flags":{},"order":28,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":147,"localized_name":"image"}],"outputs":[{"name":"image","type":"IMAGE","links":[116],"localized_name":"image"},{"name":"mask","type":"MASK","links":[115,117],"localized_name":"mask"}],"properties":{"Node name for S&R":"LayerMask: SegmentAnythingUltra V2"},"widgets_values":["sam_vit_h (2.56GB)","GroundingDINO_SwinT_OGC (694MB)",0.30000000000000004,"VITMatte",6,6,0.15,0.99,true,"face and hair","cuda",2,false],"color":"rgba(27, 80, 119, 0.7)"},{"id":75,"type":"MaskToImage","pos":[-577.10205078125,960.7092895507812],"size":[184.62362670898438,26],"flags":{},"order":37,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":120,"localized_name":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[124],"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":13,"type":"MaskToImage","pos":[257.187255859375,-141.25732421875],"size":[264.5999755859375,26],"flags":{},"order":26,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":12,"localized_name":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[17],"slot_index":0,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"MaskToImage","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":[]},{"id":77,"type":"Reroute","pos":[-241.5648651123047,625.173095703125],"size":[75,26],"flags":{},"order":27,"mode":0,"inputs":[{"name":"","type":"*","link":121}],"outputs":[{"name":"","type":"MASK","links":[122]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":53,"type":"PulidFluxInsightFaceLoader","pos":[-1892.315673828125,1647.6322021484375],"size":[243.60000610351562,58],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"FACEANALYSIS","type":"FACEANALYSIS","links":[89],"slot_index":0,"label":"FACEANALYSIS","localized_name":"FACEANALYSIS"}],"properties":{"Node name for S&R":"PulidFluxInsightFaceLoader","cnr_id":"comfyui_pulid_flux_ll","ver":"ba90657fe6ffa8072ac169a949bfa5e4153bf48a"},"widgets_values":["CUDA"]},{"id":54,"type":"PulidFluxEvaClipLoader","pos":[-1897.432373046875,1574.1507568359375],"size":[218.39999389648438,26],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"EVA_CLIP","type":"EVA_CLIP","links":[88],"slot_index":0,"label":"EVA_CLIP","localized_name":"EVA_CLIP"}],"properties":{"Node name for S&R":"PulidFluxEvaClipLoader","cnr_id":"comfyui_pulid_flux_ll","ver":"ba90657fe6ffa8072ac169a949bfa5e4153bf48a"},"widgets_values":[]},{"id":74,"type":"ImageToMask","pos":[-270.4151916503906,937.2805786132812],"size":[270,58],"flags":{},"order":43,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":125,"localized_name":"image"}],"outputs":[{"name":"MASK","type":"MASK","links":[126,128,131],"localized_name":"MASK"}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":30,"type":"VAEDecode","pos":[-141.66073608398438,1891.409912109375],"size":[210,46],"flags":{},"order":48,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":42,"localized_name":"samples"},{"name":"vae","type":"VAE","link":43,"localized_name":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[55],"slot_index":0,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":[]},{"id":22,"type":"FluxGuidance","pos":[-183.883056640625,1598.2857666015625],"size":[317.4000244140625,58],"flags":{},"order":20,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":26,"localized_name":"conditioning"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[100],"slot_index":0,"localized_name":"CONDITIONING"}],"properties":{"Node name for S&R":"FluxGuidance","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":[50]},{"id":81,"type":"Reroute","pos":[834.7643432617188,1414.31884765625],"size":[75,26],"flags":{},"order":39,"mode":0,"inputs":[{"name":"","type":"*","link":129}],"outputs":[{"name":"","type":"IMAGE","links":[130]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":11,"type":"MaskPreview+","pos":[35.837440490722656,173.36158752441406],"size":[210,246.00003051757812],"flags":{},"order":25,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":10,"localized_name":"mask"}],"outputs":[],"properties":{"Node name for S&R":"MaskPreview+","cnr_id":"comfyui_essentials","ver":"9d9f4bedfc9f0321c19faf71855e228c93bd0dc9"},"widgets_values":[]},{"id":61,"type":"PreviewImage","pos":[537.0055541992188,1747.017822265625],"size":[295.024169921875,382.0386047363281],"flags":{},"order":50,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":101,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":[]},{"id":21,"type":"CLIPTextEncode","pos":[-586.932861328125,1790.849853515625],"size":[400,200],"flags":{},"order":16,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":80,"localized_name":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[32],"slot_index":0,"localized_name":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":[""]},{"id":27,"type":"InpaintModelConditioning","pos":[147.84359741210938,1449.927001953125],"size":[315,138],"flags":{},"order":46,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":100,"localized_name":"positive"},{"name":"negative","type":"CONDITIONING","link":32,"localized_name":"negative"},{"name":"vae","type":"VAE","link":33,"localized_name":"vae"},{"name":"pixels","type":"IMAGE","link":130,"localized_name":"pixels"},{"name":"mask","type":"MASK","link":128,"localized_name":"mask"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[38],"slot_index":0,"localized_name":"positive"},{"name":"negative","type":"CONDITIONING","links":[39],"slot_index":1,"localized_name":"negative"},{"name":"latent","type":"LATENT","links":[40],"slot_index":2,"localized_name":"latent"}],"properties":{"Node name for S&R":"InpaintModelConditioning","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":[true]},{"id":33,"type":"Image Overlay","pos":[138.06491088867188,1711.5909423828125],"size":[315,290],"flags":{},"order":49,"mode":0,"inputs":[{"name":"base_image","type":"IMAGE","link":55,"localized_name":"base_image"},{"name":"overlay_image","type":"IMAGE","link":54,"localized_name":"overlay_image"},{"name":"optional_mask","type":"MASK","link":131,"shape":7,"localized_name":"optional_mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[101,132,136],"slot_index":0,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"Image Overlay","cnr_id":"efficiency-nodes-comfyui","ver":"9e3c5aa4976ad457065ef06a0dfdfc66e17c59ee"},"widgets_values":["None","nearest-exact",1,512,512,0,0,0,0],"color":"#223333","bgcolor":"#335555","shape":1},{"id":7,"type":"PreviewImage","pos":[12.991071701049805,-146.98780822753906],"size":[210,246],"flags":{},"order":17,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":5,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":[]},{"id":85,"type":"Reroute","pos":[1252.9036865234375,1437.7596435546875],"size":[75,26],"flags":{},"order":21,"mode":0,"inputs":[{"name":"","type":"*","link":139,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"INT","links":[161]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":76,"type":"MaskToImage","pos":[-237.9817657470703,698.3355102539062],"size":[184.62362670898438,26],"flags":{},"order":31,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":122,"localized_name":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[123],"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":71,"type":"GrowMaskWithBlur","pos":[-581.2913818359375,661.15283203125],"size":[315,246],"flags":{},"order":34,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":117,"localized_name":"mask"}],"outputs":[{"name":"mask","type":"MASK","links":[120],"localized_name":"mask"},{"name":"mask_inverted","type":"MASK","links":null,"localized_name":"mask_inverted"}],"properties":{"Node name for S&R":"GrowMaskWithBlur","cnr_id":"comfyui-kjnodes","ver":"8ecf5cd05e0a1012087b0da90eea9a13674668db"},"widgets_values":[10,0,false,false,3,1,1,true]},{"id":52,"type":"ApplyPulidFlux","pos":[-1425.3438720703125,1562.252197265625],"size":[315,226],"flags":{},"order":19,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":85,"label":"model","localized_name":"model"},{"name":"pulid_flux","type":"PULIDFLUX","link":87,"label":"pulid_flux","localized_name":"pulid_flux"},{"name":"eva_clip","type":"EVA_CLIP","link":88,"label":"eva_clip","localized_name":"eva_clip"},{"name":"face_analysis","type":"FACEANALYSIS","link":89,"label":"face_analysis","localized_name":"face_analysis"},{"name":"image","type":"IMAGE","link":105,"label":"image","localized_name":"image"},{"name":"attn_mask","type":"MASK","link":null,"label":"attn_mask","shape":7,"localized_name":"attn_mask"},{"name":"options","type":"OPTIONS","link":null,"shape":7,"localized_name":"options"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[159],"slot_index":0,"label":"MODEL","localized_name":"MODEL"}],"properties":{"Node name for S&R":"ApplyPulidFlux","cnr_id":"comfyui_pulid_flux_ll","ver":"ba90657fe6ffa8072ac169a949bfa5e4153bf48a"},"widgets_values":[0.9000000000000001,0,0.9000000000000002],"color":"#232","bgcolor":"#353"},{"id":20,"type":"CLIPTextEncode","pos":[-605.9208374023438,1492.833984375],"size":[400,200],"flags":{},"order":15,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":79,"localized_name":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[26],"slot_index":0,"localized_name":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":["Swap the face and hair."]},{"id":93,"type":"PreviewImage","pos":[1322.235107421875,1740.9547119140625],"size":[298.67236328125,394.56585693359375],"flags":{},"order":52,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":164,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":78,"type":"ImageConcanate","pos":[-245.98484802246094,771.2583618164062],"size":[270,102],"flags":{},"order":41,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":123,"localized_name":"image1"},{"name":"image2","type":"IMAGE","link":124,"localized_name":"image2"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[125,127],"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"ImageConcanate"},"widgets_values":["right",true]},{"id":5,"type":"ImageResize+","pos":[-788.4278564453125,321.84747314453125],"size":[320,220],"flags":{},"order":24,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":104,"label":"image","localized_name":"image"},{"name":"width","type":"INT","link":19,"widget":{"name":"width"}},{"name":"height","type":"INT","link":20,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[21,147,152],"slot_index":0,"label":"image","localized_name":"IMAGE"},{"name":"width","type":"INT","links":[],"label":"width","localized_name":"width"},{"name":"height","type":"INT","slot_index":2,"label":"height","localized_name":"height"}],"properties":{"Node name for S&R":"ImageResize+","cnr_id":"comfyui_essentials","ver":"9d9f4bedfc9f0321c19faf71855e228c93bd0dc9"},"widgets_values":[1024,1024,"lanczos","keep proportion","always",0]},{"id":15,"type":"ImageConcanate","pos":[-316.4388427734375,265.5078125],"size":[315,102],"flags":{},"order":36,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":22,"localized_name":"image1"},{"name":"image2","type":"IMAGE","link":21,"localized_name":"image2"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[23,54,129,153],"slot_index":0,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"ImageConcanate","cnr_id":"comfyui-kjnodes","ver":"c3dc82108a2a86c17094107ead61d63f8c76200e"},"widgets_values":["right",true]},{"id":12,"type":"Image Overlay","pos":[250.0125274658203,-60.119659423828125],"size":[315,290],"flags":{},"order":30,"mode":0,"inputs":[{"name":"base_image","type":"IMAGE","link":17,"localized_name":"base_image"},{"name":"overlay_image","type":"IMAGE","link":18,"localized_name":"overlay_image"},{"name":"optional_mask","type":"MASK","link":null,"shape":7,"localized_name":"optional_mask"},{"name":"width","type":"INT","link":15,"widget":{"name":"width"}},{"name":"height","type":"INT","link":16,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[14,22],"slot_index":0,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"Image Overlay","cnr_id":"efficiency-nodes-comfyui","ver":"9e3c5aa4976ad457065ef06a0dfdfc66e17c59ee"},"widgets_values":["None","nearest-exact",1,512,512,0,0,0,0],"color":"#332222","bgcolor":"#553333","shape":1},{"id":10,"type":"easy imageSize","pos":[-312.30126953125,-111.12962341308594],"size":[210,108],"flags":{},"order":18,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":7,"label":"image","localized_name":"image"}],"outputs":[{"name":"width_int","type":"INT","links":[8,15,19,139,155],"slot_index":0,"label":"width","localized_name":"width_int"},{"name":"height_int","type":"INT","links":[9,16,20],"slot_index":1,"label":"height","localized_name":"height_int"}],"properties":{"Node name for S&R":"easy imageSize","cnr_id":"comfyui-easy-use","ver":"665861ff354dcc54c959cdb878ddc8c76773ae54"},"widgets_values":["Width: 1400 , Height: 936"]},{"id":97,"type":"Reroute","pos":[132.06643676757812,797.2979125976562],"size":[75,26],"flags":{},"order":22,"mode":0,"inputs":[{"name":"","type":"*","link":155}],"outputs":[{"name":"","type":"INT","links":[156]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":96,"type":"SimpleMath+","pos":[835.8875732421875,1133.2435302734375],"size":[270,98],"flags":{},"order":42,"mode":0,"inputs":[{"name":"a","type":"*","link":154,"shape":7,"localized_name":"a"},{"name":"b","type":"*","link":156,"shape":7,"localized_name":"b"},{"name":"c","type":"*","link":null,"shape":7,"localized_name":"c"}],"outputs":[{"name":"INT","type":"INT","links":[162],"localized_name":"INT"},{"name":"FLOAT","type":"FLOAT","links":null,"localized_name":"FLOAT"}],"properties":{"Node name for S&R":"SimpleMath+"},"widgets_values":["a-b"]},{"id":83,"type":"GetImageSize+","pos":[1210.58740234375,1631.277587890625],"size":[159.50155639648438,66],"flags":{},"order":51,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":132,"localized_name":"image"}],"outputs":[{"name":"width","type":"INT","links":[],"localized_name":"width"},{"name":"height","type":"INT","links":[163],"localized_name":"height"},{"name":"count","type":"INT","links":null,"localized_name":"count"}],"properties":{"Node name for S&R":"GetImageSize+"},"widgets_values":[]},{"id":8,"type":"LoadImage","pos":[-1509.32080078125,-146.1138153076172],"size":[315,314.0000305175781],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[107],"slot_index":0,"localized_name":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"localized_name":"MASK"}],"title":"Face 1","properties":{"Node name for S&R":"LoadImage","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":["屏幕截图 2025-08-12 085657.png","image"]},{"id":2,"type":"LoadImage","pos":[-1506.969970703125,229.424072265625],"size":[315,314.00006103515625],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[104],"slot_index":0,"localized_name":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"localized_name":"MASK"}],"title":"Face 2","properties":{"Node name for S&R":"LoadImage","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":["elon-musk-fighter.webp","image"]},{"id":14,"type":"PreviewImage","pos":[586.73291015625,-126.31204223632812],"size":[210,246],"flags":{},"order":35,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":14,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":[]},{"id":100,"type":"Note","pos":[-1399.682373046875,2062.731689453125],"size":[210,156.0774688720703],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["The above settings can be changed to adjust the similarity with reference pic. Highest value is 1. 0.9 worked best while testing but feel free to test with other values."],"color":"#432","bgcolor":"#653"},{"id":29,"type":"KSampler","pos":[486.16485595703125,1434.4974365234375],"size":[315,262],"flags":{},"order":47,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":159,"localized_name":"model"},{"name":"positive","type":"CONDITIONING","link":38,"localized_name":"positive"},{"name":"negative","type":"CONDITIONING","link":39,"localized_name":"negative"},{"name":"latent_image","type":"LATENT","link":40,"localized_name":"latent_image"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[42],"slot_index":0,"localized_name":"LATENT"}],"properties":{"Node name for S&R":"KSampler","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":[111284145113163,"fixed",25,1,"euler","beta",1]},{"id":101,"type":"Note","pos":[-137.1491241455078,2199.566162109375],"size":[210,156.0774688720703],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Above group generates the final iamge. Prompt will not affect the generation much but you can try using more detailed prompts. \n\nIn the ksampler node you can change the seed to get diffrent results. Change the control after generate setting to randomize to geenrate different seeds every time."],"color":"#432","bgcolor":"#653"},{"id":98,"type":"Note","pos":[-1875.1121826171875,-141.890625],"size":[265.1535949707031,272.38189697265625],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["In face 1, upload the pic which you want to see in the final image.\n\nIn face 2, upload the pic which will get replaced.\n\nTry using high quality pics with same dimensions."],"color":"#432","bgcolor":"#653"},{"id":16,"type":"PreviewImage","pos":[866.3172607421875,-179.5244140625],"size":[321.606689453125,416.35382080078125],"flags":{},"order":38,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":23,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":[]},{"id":94,"type":"PreviewImage","pos":[578.4072875976562,214.9449920654297],"size":[210,311.0279541015625],"flags":{},"order":29,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":152,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":99,"type":"Note","pos":[-1299.3380126953125,791.797119140625],"size":[210,156.0774688720703],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Automatic mask generation step. \nYou can try adjusting the thresold value if you feel mask is incorrect. 0.30 worked best in testing."],"color":"#432","bgcolor":"#653"},{"id":68,"type":"MaskPreview+","pos":[-1897.7850341796875,719.17529296875],"size":[150.14315795898438,246],"flags":{},"order":33,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":115,"localized_name":"mask"}],"outputs":[],"properties":{"Node name for S&R":"MaskPreview+"},"widgets_values":[]},{"id":80,"type":"PreviewImage","pos":[-1905.4197998046875,1043.4832763671875],"size":[162.23435974121094,262.17041015625],"flags":{},"order":44,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":127,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":79,"type":"MaskPreview+","pos":[-1650.2509765625,1050.93994140625],"size":[210,269.2449645996094],"flags":{},"order":45,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":126,"localized_name":"mask"}],"outputs":[],"properties":{"Node name for S&R":"MaskPreview+"},"widgets_values":[]},{"id":70,"type":"PreviewImage","pos":[-1614.8363037109375,721.3555908203125],"size":[140,246],"flags":{},"order":32,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":116,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":95,"type":"GetImageSizeAndCount","pos":[533.2487182617188,862.1758422851562],"size":[190.86483764648438,86],"flags":{},"order":40,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":153,"localized_name":"image"}],"outputs":[{"name":"image","type":"IMAGE","links":null,"localized_name":"image"},{"name":"width","type":"INT","links":[154],"localized_name":"width"},{"name":"height","type":"INT","links":null,"localized_name":"height"},{"name":"count","type":"INT","links":null,"localized_name":"count"}],"properties":{"Node name for S&R":"GetImageSizeAndCount"},"widgets_values":[]},{"id":103,"type":"ImageCrop","pos":[1352.582275390625,1462.9810791015625],"size":[315,130],"flags":{},"order":53,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":160,"localized_name":"image"},{"name":"x","type":"INT","link":161,"widget":{"name":"x"}},{"name":"width","type":"INT","link":162,"widget":{"name":"width"}},{"name":"height","type":"INT","link":163,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[164],"slot_index":0,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"ImageCrop"},"widgets_values":[512,512,0,0]},{"id":49,"type":"Power Lora Loader (rgthree)","pos":[-1437.24365234375,1848.5938720703125],"size":[340.20001220703125,142],"flags":{},"order":13,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":76,"dir":3},{"name":"clip","type":"CLIP","link":78,"dir":3}],"outputs":[{"name":"MODEL","type":"MODEL","links":[85],"dir":4,"shape":3},{"name":"CLIP","type":"CLIP","links":[79,80],"dir":4,"shape":3}],"properties":{"Show Strengths":"Single Strength","cnr_id":"rgthree-comfy","ver":"5dc53323e07a021038af9f2a4a06ebc071f7218c"},"widgets_values":[null,{"type":"PowerLoraLoaderHeaderWidget"},{"on":true,"lora":"comfyui_portrait_lora64.safetensors","strength":0.9,"strengthTwo":null},null,""]},{"id":55,"type":"PulidFluxModelLoader","pos":[-1906.5736083984375,1748.3468017578125],"size":[299.536376953125,58],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[{"name":"PULIDFLUX","type":"PULIDFLUX","links":[87],"slot_index":0,"label":"PULIDFLUX","localized_name":"PULIDFLUX"}],"properties":{"Node name for S&R":"PulidFluxModelLoader","cnr_id":"comfyui_pulid_flux_ll","ver":"ba90657fe6ffa8072ac169a949bfa5e4153bf48a"},"widgets_values":["pulid_flux_v0.9.0.safetensors"]},{"id":19,"type":"DualCLIPLoader","pos":[-1904.3134765625,2011.92236328125],"size":[315,130],"flags":{},"order":9,"mode":0,"inputs":[],"outputs":[{"name":"CLIP","type":"CLIP","links":[78],"slot_index":0,"localized_name":"CLIP"}],"properties":{"Node name for S&R":"DualCLIPLoader","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":["clip_l.safetensors","t5xxl_fp8_e4m3fn.safetensors","flux","default"]},{"id":28,"type":"VAELoader","pos":[-1897.4176025390625,2197.77978515625],"size":[315,58],"flags":{},"order":10,"mode":0,"inputs":[],"outputs":[{"name":"VAE","type":"VAE","links":[33,43],"slot_index":0,"localized_name":"VAE"}],"properties":{"Node name for S&R":"VAELoader","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":["ae.safetensors"]},{"id":18,"type":"UNETLoader","pos":[-1895.2181396484375,1869.760009765625],"size":[315,82],"flags":{},"order":11,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","links":[76],"slot_index":0,"localized_name":"MODEL"}],"properties":{"Node name for S&R":"UNETLoader","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":["flux1-fill-dev.safetensors","fp8_e4m3fn"]}],"links":[[5,4,0,7,0,"IMAGE"],[7,4,0,10,0,"IMAGE"],[8,10,0,9,0,"INT"],[9,10,1,9,1,"INT"],[10,9,0,11,0,"MASK"],[12,9,0,13,0,"MASK"],[14,12,0,14,0,"IMAGE"],[15,10,0,12,3,"INT"],[16,10,1,12,4,"INT"],[17,13,0,12,0,"IMAGE"],[18,4,0,12,1,"IMAGE"],[19,10,0,5,1,"INT"],[20,10,1,5,2,"INT"],[21,5,0,15,1,"IMAGE"],[22,12,0,15,0,"IMAGE"],[23,15,0,16,0,"IMAGE"],[26,20,0,22,0,"CONDITIONING"],[32,21,0,27,1,"CONDITIONING"],[33,28,0,27,2,"VAE"],[38,27,0,29,1,"CONDITIONING"],[39,27,1,29,2,"CONDITIONING"],[40,27,2,29,3,"LATENT"],[42,29,0,30,0,"LATENT"],[43,28,0,30,1,"VAE"],[54,15,0,33,1,"IMAGE"],[55,30,0,33,0,"IMAGE"],[76,18,0,49,0,"MODEL"],[78,19,0,49,1,"CLIP"],[79,49,1,20,0,"CLIP"],[80,49,1,21,0,"CLIP"],[85,49,0,52,0,"MODEL"],[87,55,0,52,1,"PULIDFLUX"],[88,54,0,52,2,"EVA_CLIP"],[89,53,0,52,3,"FACEANALYSIS"],[100,22,0,27,0,"CONDITIONING"],[101,33,0,61,0,"IMAGE"],[104,2,0,5,0,"IMAGE"],[105,4,0,52,4,"IMAGE"],[107,8,0,65,0,"IMAGE"],[108,65,0,4,0,"IMAGE"],[115,69,1,68,0,"MASK"],[116,69,0,70,0,"IMAGE"],[117,69,1,71,0,"MASK"],[120,71,0,75,0,"MASK"],[121,9,0,77,0,"*"],[122,77,0,76,0,"MASK"],[123,76,0,78,0,"IMAGE"],[124,75,0,78,1,"IMAGE"],[125,78,0,74,0,"IMAGE"],[126,74,0,79,0,"MASK"],[127,78,0,80,0,"IMAGE"],[128,74,0,27,4,"MASK"],[129,15,0,81,0,"*"],[130,81,0,27,3,"IMAGE"],[131,74,0,33,2,"MASK"],[132,33,0,83,0,"IMAGE"],[139,10,0,85,0,"*"],[147,5,0,69,0,"IMAGE"],[152,5,0,94,0,"IMAGE"],[153,15,0,95,0,"IMAGE"],[154,95,1,96,0,"*"],[155,10,0,97,0,"*"],[156,97,0,96,1,"*"],[159,52,0,29,0,"MODEL"],[160,33,0,103,0,"IMAGE"],[161,85,0,103,1,"INT"],[162,96,0,103,2,"INT"],[163,83,1,103,3,"INT"],[164,103,0,93,0,"IMAGE"]],"groups":[{"id":1,"title":"Load images","bounding":[-1519.32080078125,-219.7139129638672,337.35101318359375,773.1384887695312],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"Image generation","bounding":[-614.7205200195312,1334.6785888671875,1583.08056640625,791.23974609375],"color":"#3f789e","font_size":24,"flags":{}},{"id":7,"title":"Concatenate image side by side","bounding":[-1052.076171875,-224.93092346191406,1851.66748046875,769.703857421875],"color":"#3f789e","font_size":24,"flags":{}},{"id":8,"title":"Generate the face mask","bounding":[-1009.0035400390625,578.1254272460938,1033.0126953125,449.6000061035156],"color":"#3f789e","font_size":24,"flags":{}},{"id":9,"title":"Load required models","bounding":[-1916.573486328125,1500.55078125,346.35540771484375,765.230712890625],"color":"#3f789e","font_size":24,"flags":{}},{"id":10,"title":"Face similarity settings","bounding":[-1447.24365234375,1488.6522216796875,360.20001220703125,511.9416809082031],"color":"#3f789e","font_size":24,"flags":{}},{"id":11,"title":"Cropped image","bounding":[1204.0941162109375,1383.0419921875,477.9814453125,762.4791259765625],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.3513057093104028,"offset":[-767.8405151367188,-1478.1834716796875]},"frontendVersion":"1.19.9","VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true,"node_versions":{"ComfyUI-Easy-Use":"123917da9adec0d2b0b5f817deefb9ac3ed464f1","comfy-core":"0.3.14","ComfyUI_essentials":"33ff89fd354d8ec3ab6affb605a79a931b445d99","ComfyUI_LayerStyle_Advance":"64c8317ab33f0208f2e583070acf4f8ef6faca0a","ComfyUI_PuLID_Flux_ll":"4c0eafb52beba4f6fd01a7a38f72c07c26f2d401","efficiency-nodes-comfyui":"f0971b5553ead8f6e66bb99564431e2590cd3981","ComfyUI-KJNodes":"86b5453a5ca9ecb883eedc9d0a96bf942b9ca73e","rgthree-comfy":"5d771b8b56a343c24a26e8cea1f0c87c3d58102f"},"ue_links":[]},"version":0.4}
